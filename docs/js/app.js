const tree_json = `{"guess":"ランクルス","edges":{"00200":{"guess":"ヌマクロー","edges":{"00200":{"guess":"レックウザ"}}},"11100":{"guess":"クイタラン"},"12000":{"guess":"ユキワラシ","edges":{"00010":{"guess":"モンジャラ","edges":{"02002":{"guess":"デンチュラ"}}},"00021":{"guess":"シンボラー"},"20020":{"guess":"ユンゲラー"},"01020":{"guess":"キングラー"},"00020":{"guess":"レントラー","edges":{"02022":{"guess":"ペンドラー"}}},"01010":{"guess":"キングドラ"}}},"20002":{"guess":"ラティアス","edges":{"22202":{"guess":"ラティオス"}}},"00010":{"guess":"バオッキー","edges":{"20001":{"guess":"バルビート","edges":{"22020":{"guess":"バルジーナ"}}},"01000":{"guess":"オニドリル","edges":{"10001":{"guess":"ケルディオ"},"20012":{"guess":"オコリザル"}}},"00001":{"guess":"マルノーム","edges":{"01021":{"guess":"ムチュール"},"01020":{"guess":"ハガネール","edges":{"00022":{"guess":"シビビール"}}},"01120":{"guess":"ノワール"},"02020":{"guess":"イルミーゼ"},"01010":{"guess":"フローゼル","edges":{"00102":{"guess":"ガーメイル"},"00202":{"guess":"ウォーグル"}}},"11020":{"guess":"サマヨール"}}},"00010":{"guess":"ヤルキモノ","edges":{"01200":{"guess":"エレキブル"}}},"10100":{"guess":"ゴルバット"},"01002":{"guess":"ホエルオー"},"01001":{"guess":"オーダイル"},"00101":{"guess":"パッチール"},"20000":{"guess":"バルチャイ"},"00002":{"guess":"アギルダー","edges":{"00202":{"guess":"ニャルマー"},"10202":{"guess":"コアルヒー"},"00222":{"guess":"シェルダー"}}},"00100":{"guess":"ミルホッグ","edges":{"02020":{"guess":"ダルマッカ"}}},"10000":{"guess":"ジバコイル","edges":{"01002":{"guess":"モロバレル"}}},"00000":{"guess":"レジアイス","edges":{"20120":{"guess":"レアコイル"},"10010":{"guess":"ユレイドル"},"10020":{"guess":"エルレイド"},"01000":{"guess":"ジュプトル"},"00000":{"guess":"ゴウカザル","edges":{"20002":{"guess":"ゴチルゼル"},"00002":{"guess":"フタチマル"},"02222":{"guess":"モウカザル"}}},"00100":{"guess":"ワルビアル","edges":{"00022":{"guess":"ギギギアル"}}},"02000":{"guess":"ミジュマル"}}},"00200":{"guess":"グレッグル"}}},"02000":{"guess":"ベイリーフ","edges":{"00210":{"guess":"ワンリキー"},"01000":{"guess":"マンタイン"},"00200":{"guess":"デンリュウ"},"00020":{"guess":"アンノーン"},"00001":{"guess":"ドンファン"},"10010":{"guess":"ツンベアー"},"00010":{"guess":"エンブオー"},"00000":{"guess":"サンドパン","edges":{"02000":{"guess":"ケンホロウ"},"02001":{"guess":"ヤンヤンマ"}}}}},"00100":{"guess":"ゾロアーク","edges":{"10001":{"guess":"ナゾノクサ"},"00021":{"guess":"ムクバード"},"00002":{"guess":"トゲチック"},"00001":{"guess":"マクノシタ","edges":{"11000":{"guess":"クヌギダマ"},"02000":{"guess":"ビクティニ"},"01000":{"guess":"クサイハナ"},"01100":{"guess":"ゲノセクト"}}},"00112":{"guess":"アーボック"},"00011":{"guess":"ハクリュー"},"01001":{"guess":"ドクロッグ"},"02002":{"guess":"コロトック"},"00022":{"guess":"ハブネーク","edges":{"00022":{"guess":"ムクホーク"}}},"01002":{"guess":"レジロック"},"00101":{"guess":"クレセリア"},"02001":{"guess":"クロバット"}}},"00102":{"guess":"カメックス","edges":{"00022":{"guess":"オノノクス"}}},"01002":{"guess":"ソーナンス"},"00002":{"guess":"プロトーガ","edges":{"10200":{"guess":"カブトプス","edges":{"00222":{"guess":"タテトプス"}}},"01000":{"guess":"メタグロス"},"00000":{"guess":"ラフレシア","edges":{"00100":{"guess":"イワパレス"},"00101":{"guess":"レジアイス"},"00000":{"guess":"ヒポポタス"},"00001":{"guess":"アリアドス"},"00020":{"guess":"デオキシス"}}},"00001":{"guess":"ギガイアス","edges":{"02202":{"guess":"ズガイドス"},"01002":{"guess":"マタドガス"},"01022":{"guess":"ガブリアス"},"11002":{"guess":"レジガス"}}},"00010":{"guess":"アーケオス"},"00200":{"guess":"ダストダス"},"00100":{"guess":"フォレトス","edges":{"00012":{"guess":"トゲキッス"},"00022":{"guess":"ドダイトス"}}},"02000":{"guess":"ミロカロス"},"02100":{"guess":"トロピウス"},"00020":{"guess":"アメモース","edges":{"00022":{"guess":"エテボース"}}},"10100":{"guess":"トリデプス"}}},"00012":{"guess":"ダグトリオ","edges":{"00000":{"guess":"アルセウス","edges":{"02012":{"guess":"ウルガモス"}}},"00020":{"guess":"チルタリス"},"00100":{"guess":"トルネロス"},"10000":{"guess":"レパルダス"},"00200":{"guess":"ボルトロス"}}},"00110":{"guess":"ゴルダック","edges":{"02022":{"guess":"ソルロック"},"01001":{"guess":"ドクケイル"},"02002":{"guess":"ヨルノズク"}}},"01200":{"guess":"ニドクイン","edges":{"00222":{"guess":"ビークイン"},"00202":{"guess":"ヤブクロン"}}},"11002":{"guess":"ジーランス"},"01000":{"guess":"カイリキー","edges":{"00002":{"guess":"チョンチー"},"01000":{"guess":"ドサイドン"},"00010":{"guess":"ニドキング","edges":{"02222":{"guess":"ヤドキング"},"00220":{"guess":"トサキント"},"00222":{"guess":"ケッキング"},"00110":{"guess":"キュウコン"}}},"02010":{"guess":"コイキング","edges":{"02120":{"guess":"ダイケンキ"}}},"02001":{"guess":"サイホーン"},"10000":{"guess":"テッカニン"},"00200":{"guess":"ベロリンガ","edges":{"00220":{"guess":"チェリンボ"}}},"00110":{"guess":"キリンリキ","edges":{"22101":{"guess":"キリキザン"}}},"00100":{"guess":"トリトドン","edges":{"02002":{"guess":"ビリジオン"}}},"00000":{"guess":"ヒトデマン","edges":{"00002":{"guess":"ニョロボン","edges":{"00102":{"guess":"バッフロン"}}},"01001":{"guess":"アゲハント"},"00011":{"guess":"メガヤンマ","edges":{"00011":{"guess":"ママンボウ"}}},"00102":{"guess":"レディアン"},"00001":{"guess":"モジャンボ","edges":{"02020":{"guess":"コジョンド"}}},"02002":{"guess":"ベトベトン"}}},"00001":{"guess":"ジャローダ","edges":{"00110":{"guess":"ローブシン"},"00010":{"guess":"フーディン"},"00011":{"guess":"ダーテング"},"00012":{"guess":"ボーマンダ"},"00020":{"guess":"ブーバーン"}}},"00101":{"guess":"リザードン","edges":{"20102":{"guess":"リーシャン"},"10202":{"guess":"ハリーセン"}}},"11000":{"guess":"ジュカイン"},"02000":{"guess":"ウインディ","edges":{"02100":{"guess":"アイアント"}}}}},"10000":{"guess":"エビワラー","edges":{"00220":{"guess":"ユキワラシ"},"00011":{"guess":"マニューラ","edges":{"00021":{"guess":"チラチーノ"},"00022":{"guess":"アバゴーラ"},"00011":{"guess":"チラーミィ"}}},"00022":{"guess":"ドーミラー","edges":{"20022":{"guess":"ドッコラー"},"10022":{"guess":"トドグラー"}}},"00020":{"guess":"マグマラシ","edges":{"10022":{"guess":"タマザラシ"},"00022":{"guess":"ヒノアラシ"}}},"01011":{"guess":"ビブラーバ"},"00010":{"guess":"ゼブライカ","edges":{"00100":{"guess":"ギラティナ"},"00101":{"guess":"マラカッチ"},"00110":{"guess":"バイバニラ"}}},"10022":{"guess":"カポエラー"},"00012":{"guess":"ブラッキー","edges":{"02002":{"guess":"グライガー"}}},"00122":{"guess":"サワムラー"},"00110":{"guess":"フワライド"}}},"01101":{"guess":"スカタンク"},"10100":{"guess":"パラセクト","edges":{"02020":{"guess":"カラナクシ"}}},"01010":{"guess":"ペルシアン","edges":{"01002":{"guess":"カバルドン","edges":{"00102":{"guess":"ルナトーン"},"02202":{"guess":"コバルオン"}}},"02202":{"guess":"パルシェン"},"01102":{"guess":"シビルドン"},"02001":{"guess":"ブルンゲル"},"02002":{"guess":"マンキー","edges":{"21000":{"guess":"マルマイン"},"01000":{"guess":"モルフォン"},"01100":{"guess":"ズルズキン"},"01020":{"guess":"エルフーン"}}}}},"02010":{"guess":"ネンドール","edges":{"02022":{"guess":"ハンテール"},"02001":{"guess":"ルンパッパ"}}},"22000":{"guess":"ランターン","edges":{"22010":{"guess":"ランプラー"}}},"10002":{"guess":"サナギラス","edges":{"00222":{"guess":"ヨーギラス"},"10012":{"guess":"カラサリス"},"00022":{"guess":"ヤミカラス","edges":{"00022":{"guess":"シビシラス"}}},"00112":{"guess":"ギャラドス"}}},"00001":{"guess":"オムスター","edges":{"00200":{"guess":"マッスグマ"},"20200":{"guess":"オニスズメ","edges":{"20202":{"guess":"オオスバメ"}}},"00102":{"guess":"スリーパー"},"00222":{"guess":"ブースター"},"00100":{"guess":"ハスブレロ","edges":{"02000":{"guess":"マスキッパ"}}},"00112":{"guess":"スターミー"}}},"12002":{"guess":"バンギラス","edges":{"02022":{"guess":"ドンカラス"}}},"22002":{"guess":"ランドロス"},"00011":{"guess":"レジスチル"},"01001":{"guess":"スカンプー","edges":{"11101":{"guess":"デスカーン"}}},"10001":{"guess":"ボスゴドラ"},"00000":{"guess":"カイリキー","edges":{"00200":{"guess":"バニリッ","edges":{"00220":{"guess":"エムリット"},"00200":{"guess":"ビリリダマ"},"02200":{"guess":"ミニリュウ"}}},"01100":{"guess":"アリゲイツ"},"01002":{"guess":"ファイヤー"},"00002":{"guess":"ツタージャ","edges":{"00200":{"guess":"ハトーボー"},"00101":{"guess":"チャオブー"},"10100":{"guess":"ミュウツー","edges":{"20012":{"guess":"ミツハニー"}}},"01100":{"guess":"ベトベター"},"00100":{"guess":"サメハダー"},"00110":{"guess":"コジョフー"},"00111":{"guess":"ジャノビー"}}},"00010":{"guess":"キノガッサ","edges":{"11000":{"guess":"ユキメノコ"},"10020":{"guess":"エレキッド"},"10000":{"guess":"チョボマキ"}}},"00102":{"guess":"バタフリー","edges":{"00012":{"guess":"ペリッパー"},"00112":{"guess":"フリーザー"},"00022":{"guess":"ヨーテリー"}}},"02000":{"guess":"ネイティオ","edges":{"02002":{"guess":"ケイコウオ"}}},"10110":{"guess":"ユキカブリ"},"10000":{"guess":"ピカチュウ","edges":{"02000":{"guess":"ワカシャモ"}}},"02201":{"guess":"ベイリーフ"},"20000":{"guess":"カゲボウズ"},"22202":{"guess":"カイリュー"},"01000":{"guess":"イシズマイ","edges":{"11000":{"guess":"ポッタイシ","edges":{"00011":{"guess":"グレイシア"}}},"22000":{"guess":"イシツブテ"},"10000":{"guess":"オムナイト"},"10100":{"guess":"ロズレイド"},"00002":{"guess":"ナットレイ"}}},"00100":{"guess":"ケイコウオ","edges":{"00000":{"guess":"ハリテヤマ"},"00020":{"guess":"ドリュウズ"},"00100":{"guess":"ココロモリ"},"00002":{"guess":"ダグトリオ"},"00200":{"guess":"ハハコモリ"}}},"10010":{"guess":"メブキジカ"},"00201":{"guess":"ニドリーナ","edges":{"22220":{"guess":"ニドリーノ"},"00220":{"guess":"チコリータ"}}},"00001":{"guess":"ムシャーナ","edges":{"01120":{"guess":"シャワーズ"},"00020":{"guess":"プロトーガ"},"20020":{"guess":"ムウマージ"},"00010":{"guess":"ブーピッグ"},"10110":{"guess":"チャーレム"},"01020":{"guess":"コロボーシ","edges":{"00021":{"guess":"テッシード"}}},"00110":{"guess":"ゴローニャ","edges":{"00202":{"guess":"ツタージャ"}}},"02220":{"guess":"バシャーモ"},"10010":{"guess":"エアームド"},"00120":{"guess":"ジャローダ"}}},"01001":{"guess":"サーナイト"},"01010":{"guess":"キレイハナ"},"00222":{"guess":"ゴーリキー"},"00022":{"guess":"ヤナッキー","edges":{"10222":{"guess":"ヒヤッキー"},"00222":{"guess":"ウソッキー","edges":{"00222":{"guess":"バオッキー"}}}}},"00012":{"guess":"キャタピー","edges":{"10002":{"guess":"ユキノオー"}}},"00101":{"guess":"デリバード","edges":{"01011":{"guess":"ドードリオ"},"02010":{"guess":"フリージオ"},"11010":{"guess":"ハーデリア"},"01020":{"guess":"オニゴーリ"},"02122":{"guess":"バリヤード"},"01010":{"guess":"リーフィア"}}},"02001":{"guess":"ダイノーズ"},"22001":{"guess":"カイオーガ"},"00202":{"guess":"シザリガー","edges":{"00202":{"guess":"モグリー"}}},"00000":{"guess":"ドジョッチ","edges":{"00010":{"guess":"テッポウオ"},"00100":{"guess":"ニョロトノ"},"00011":{"guess":"ポッチャマ"},"00022":{"guess":"ミノムッチ","edges":{"00022":{"guess":"バニプッチ"}}},"01020":{"guess":"ジュペッタ"},"00200":{"guess":"ゴニョニョ"},"20010":{"guess":"ドテッコツ"},"00101":{"guess":"チョロネコ"},"00000":{"guess":"ミズゴロウ","edges":{"20000":{"guess":"ミノマダム"},"00002":{"guess":"フシギソウ"},"00001":{"guess":"メガニウム"},"00000":{"guess":"フシギダネ","edges":{"01000":{"guess":"ハヤシガメ"},"00000":{"guess":"タマゲタケ"},"22200":{"guess":"フシギバナ"}}},"10000":{"guess":"マダツボミ"},"00020":{"guess":"エネコロロ","edges":{"00020":{"guess":"ガマゲロゲ"}}},"02002":{"guess":"アズマオウ"}}},"02220":{"guess":"ピジョット"},"00020":{"guess":"ギャロップ","edges":{"00120":{"guess":"メロエッタ"},"01020":{"guess":"ブニャット"},"00222":{"guess":"ミミロップ"},"00020":{"guess":"ウツボット","edges":{"01020":{"guess":"ヒマナッツ"},"00020":{"guess":"マグマッグ"}}}}},"01000":{"guess":"ジグザグマ"},"20000":{"guess":"ドレディア"}}}}},"01110":{"guess":"ミルタンク"},"01100":{"guess":"カイオーガ","edges":{"00010":{"guess":"ドータクン"},"00020":{"guess":"バクフーン"},"00000":{"guess":"クマシュン"},"00001":{"guess":"クリムガン"},"00200":{"guess":"バクオング"},"20100":{"guess":"カクレオン"}}},"02020":{"guess":"エンペルト"},"10010":{"guess":"ルージュラ"},"10200":{"guess":"ビードル","edges":{"02000":{"guess":"ダークライ"},"01000":{"guess":"ナックラー"},"00000":{"guess":"メノクラゲ"},"00100":{"guess":"ドククラゲ"}}},"11010":{"guess":"トランセル","edges":{"02202":{"guess":"グランブル"}}},"20020":{"guess":"ライボルト","edges":{"20020":{"guess":"ラムパルド"}}},"02002":{"guess":"サンダース","edges":{"02022":{"guess":"ザングース"},"02002":{"guess":"ケンタロス"}}},"00020":{"guess":"マタドガス","edges":{"00000":{"guess":"ベロベルト","edges":{"00020":{"guess":"シュバルゴ"}}},"10000":{"guess":"ヒヒダルマ"},"00110":{"guess":"トドゼルガ"},"20000":{"guess":"マグカルゴ"},"00010":{"guess":"ディアルガ"},"10100":{"guess":"アーマルド"}}},"10202":{"guess":"ヘラクロス"},"11000":{"guess":"グラードン","edges":{"01001":{"guess":"ネオラント","edges":{"00110":{"guess":"シャンデラ"}}},"01112":{"guess":"ヒードラン"},"01021":{"guess":"サザンドラ"},"02012":{"guess":"ドラピオン"},"22002":{"guess":"グライオン"},"01111":{"guess":"ムーランド"},"02002":{"guess":"フライゴン","edges":{"02002":{"guess":"テラキオン"}}}}},"10101":{"guess":"ストライク"},"10102":{"guess":"サクラビス"},"20000":{"guess":"ライチュウ","edges":{"20000":{"guess":"ラフレシア","edges":{"20000":{"guess":"ラグラージ"}}}}}}}`

let input = document.getElementById("input");
let output = document.getElementById("output");
output.scrollTop = output.scrollHeight;
let json_obj = {};

input.addEventListener("keypress", on_enter);

function on_enter(e) {
  if (e.keyCode === 13) {
    if (!("edges" in json_obj)) {
      return;
    }

    if (input.value == "22222") {
      output.value += "22222\nCongratulations!!!\n";
      output.value += "If you want to play again, please restart.";
      output.scrollTop = output.scrollHeight;
      json_obj = {};
      return;
    }

    if (!(input.value in json_obj.edges)) {
      output.value += "Incorrect input.\n";
      output.value += "Please restart, or type the correct response again.\n-> "
      output.scrollTop = output.scrollHeight;
      return;
    }
    json_obj = json_obj.edges[input.value];
    output.value += input.value + "\n";
    output.value += json_obj.guess + "\n-> ";
    input.value = "";
    if (!("edges" in json_obj)) {
      output.value += "22222\nCongratulations!!!\n";
      output.value += "If you want to play again, please restart.";
      json_obj = {};
    }
    output.scrollTop = output.scrollHeight;
  }
}

function restart() {
  output.value = "";
  input.value = "";
  json_obj = JSON.parse(tree_json);
  output.value += json_obj.guess + "\n-> ";
}

window.onload = function() {
  restart()
};
